{
    "name": "@natlibfi/melinda-rest-api-commons",
    "description": "Shared modules for microservices of Melinda rest api import system",
    "author": {
        "name": "The National Library of Finland"
    },
    "keywords": [],
    "homepage": "https://github.com/natlibfi/melinda-rest-api-commons",
    "bugs": {
        "url": "https://github.com/natlibfi/melinda-rest-api-commons/issues"
    },
    "repository": {
        "type": "git",
        "url": "git@github.com:natlibfi/melinda-rest-api-commons.git"
    },
    "license": "AGPL-3.0+",
    "version": "4.0.4",
    "main": "./dist/index.js",
    "engines": {
        "node": ">=18"
    },
    "publishConfig": {
        "access": "public"
    },
    "scripts": {
        "prepare": "npm run build",
        "lint": "eslint ./src",
        "lint:dev": "eslint ./src --fix",
        "test": "npm run lint && npm run test:base -- src/**/*.spec.js",
        "test:dev": "npm run lint:dev && npm run test:base -- src/**/*.spec.js",
        "test:base": "cross-env NODE_ENV=test nyc mocha --require @babel/register --exclude src/amqp.health.spec.js --exclude src/amqp.tests.spec.js",
        "test:local": "cross-env NODE_ENV=test nyc mocha --require @babel/register -- src/amqp.*.spec.js",
        "test:healthcheck": "cross-env NODE_ENV=test nyc mocha --require @babel/register -- src/amqp.health.spec.js",
        "coverage": "npm run cover:unit && npm run cover:report",
        "cover:unit": "nyc --silent npm run test",
        "cover:report": "nyc report --reporter=lcov --reporter=text",
        "dev": "NODE_ENV=development cross-env DEBUG='@natlibfi/*' nodemon",
        "build": "babel src --source-maps --copy-files --delete-dir-on-start --out-dir=dist"
    },
    "dependencies": {
        "@natlibfi/marc-record": "^7.2.2",
        "@natlibfi/marc-record-serializers": "^10.0.4",
        "@natlibfi/marc-record-validate": "^8.0.0",
        "@natlibfi/marc-record-validators-melinda": "^10.7.1",
        "@natlibfi/melinda-backend-commons": "^2.2.0",
        "@natlibfi/melinda-commons": "^13.0.4",
        "amqplib": ">=0.10.3 <1.0.0",
        "debug": "^4.3.4",
        "http-status": "^1.6.2",
        "moment": "^2.29.4",
        "mongo-sanitize": "^1.1.0",
        "mongodb": "^4.16.0"
    },
    "devDependencies": {
        "@babel/cli": "^7.21.5",
        "@babel/core": "^7.21.8",
        "@babel/eslint-parser": "^7.21.8",
        "@babel/plugin-syntax-dynamic-import": "^7.8.3",
        "@babel/preset-env": "^7.21.5",
        "@natlibfi/eslint-config-melinda-backend": "^3.0.0",
        "@natlibfi/fixugen": "^2.0.0",
        "@natlibfi/fixura": "^3.0.0",
        "babel-plugin-dynamic-import-node": "^2.3.3",
        "babel-plugin-istanbul": "^6.1.1",
        "babel-plugin-rewire": "^1.2.0",
        "chai": "^4.3.7",
        "cross-env": "^7.0.3",
        "eslint": "^8.40.0",
        "mocha": "^10.2.0",
        "nodemon": "^2.0.22",
        "nyc": "^15.1.0"
    },
    "eslintConfig": {
        "extends": "@natlibfi/melinda-backend"
    },
    "babel": {
        "presets": [
            [
                "@babel/preset-env",
                {
                    "targets": "maintained node versions"
                }
            ]
        ],
        "plugins": [
            "@babel/plugin-syntax-dynamic-import",
            "dynamic-import-node"
        ],
        "env": {
            "test": {
                "plugins": [
                    "istanbul",
                    "rewire"
                ]
            }
        }
    },
    "nyc": {
        "exclude": [
            "**/*.spec.js"
        ],
        "reporter": [
            "lcov",
            "html"
        ],
        "require": [
            "@babel/register"
        ],
        "sourceMap": false,
        "instrument": false,
        "lines": 80,
        "statements": 80,
        "functions": 80,
        "branches": 80
    },
    "nodemonConfig": {
        "exec": "npm run test:dev",
        "watch": [
            "src/*"
        ],
        "ext": "js",
        "delay": 2.5
    }
}
